{"version":3,"sources":["pages/Home.jsx","App.js","index.js"],"names":["Home","useState","loading","setLoading","error","setError","cocktail","setCocktail","fetchCocktail","fetch","then","res","json","data","currentCoktail","id","drinks","idDrink","title","strDrink","imgSrc","strDrinkThumb","currentCocktail","localStorage","getItem","cocktails","JSON","parse","push","setItem","stringify","stockCocktail","catch","likeCocktail","like","length","useEffect","onClick","className","src","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAuEeA,EArEF,WAAO,IAAD,EACaC,oBAAS,GADtB,mBACVC,EADU,KACDC,EADC,OAESF,oBAAS,GAFlB,mBAEVG,EAFU,KAEHC,EAFG,OAGeJ,mBAAS,MAHxB,mBAGVK,EAHU,KAGAC,EAHA,KAeXC,EAAgB,WACpBL,GAAW,GACXE,GAAS,GAETI,MAAM,0DACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,IAAMC,EAAiB,CACrBC,GAAIF,EAAKG,OAAO,GAAGC,QACnBC,MAAOL,EAAKG,OAAO,GAAGG,SACtBC,OAAQP,EAAKG,OAAO,GAAGK,eAEzBd,EAAYO,GAtBI,SAACQ,GACrB,GAAKC,aAAaC,QAAQ,aAA1B,CAIA,IAAMC,EAAYC,KAAKC,MAAMJ,aAAaC,QAAQ,cAClDC,EAAUG,KAAKN,GACfC,aAAaM,QAAQ,YAAaH,KAAKI,UAAUL,SAL/CF,aAAaM,QAAQ,YAAaH,KAAKI,UAAU,CAACR,KAqBhDS,CAAcjB,GACdX,GAAW,MAEZ6B,OAAM,WACL3B,GAAS,GACTF,GAAW,OAIX8B,EAAe,SAACC,GACpB,IAAMT,EAAYC,KAAKC,MAAMJ,aAAaC,QAAQ,cAClDC,EAAUA,EAAUU,OAAS,GAAGD,KAAOA,EACvCX,aAAaM,QAAQ,YAAaH,KAAKI,UAAUL,IACjDjB,KAgBF,OAJA4B,qBAAU,WACR5B,MACC,IAGD,iCACE,iDACA,wBAAQ6B,QAAS,kBAAMJ,GAAa,IAApC,oBACA,wBAAQI,QAAS,kBAAMJ,GAAa,IAApC,2BACC/B,GAAW,8CACXE,GAAS,0DACRF,IAAYE,GAlBd,sBAAKkC,UAAU,WAAf,UACE,6BAAKhC,EAASY,QACd,qBAAKqB,IAAKjC,EAASc,OAAQoB,IAAKlC,EAASY,eC7ClCuB,EAFH,kBAAM,cAAC,EAAD,K,MCElBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e4247167.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Home = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [cocktail, setCocktail] = useState(null);\n\n  const stockCocktail = (currentCocktail) => {\n    if (!localStorage.getItem(\"cocktails\")) {\n      localStorage.setItem(\"cocktails\", JSON.stringify([currentCocktail]));\n      return;\n    }\n    const cocktails = JSON.parse(localStorage.getItem(\"cocktails\"));\n    cocktails.push(currentCocktail);\n    localStorage.setItem(\"cocktails\", JSON.stringify(cocktails));\n  };\n\n  const fetchCocktail = () => {\n    setLoading(true);\n    setError(false);\n\n    fetch(\"https://www.thecocktaildb.com/api/json/v1/1/random.php\")\n      .then((res) => res.json())\n      .then((data) => {\n        const currentCoktail = {\n          id: data.drinks[0].idDrink,\n          title: data.drinks[0].strDrink,\n          imgSrc: data.drinks[0].strDrinkThumb,\n        };\n        setCocktail(currentCoktail);\n        stockCocktail(currentCoktail);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  const likeCocktail = (like) => {\n    const cocktails = JSON.parse(localStorage.getItem(\"cocktails\"));\n    cocktails[cocktails.length - 1].like = like;\n    localStorage.setItem(\"cocktails\", JSON.stringify(cocktails));\n    fetchCocktail();\n  };\n\n  const renderCocktail = () => {\n    return (\n      <div className=\"cocktail\">\n        <h2>{cocktail.title}</h2>\n        <img src={cocktail.imgSrc} alt={cocktail.title} />\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    fetchCocktail();\n  }, []);\n\n  return (\n    <main>\n      <h1>Cocktail Tinder</h1>\n      <button onClick={() => likeCocktail(true)}>J'aime</button>\n      <button onClick={() => likeCocktail(false)}>Je n'aime pas</button>\n      {loading && <p>Chargement...</p>}\n      {error && <p>Une erreur est survenue.</p>}\n      {!loading && !error && renderCocktail()}\n    </main>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport Home from \"./pages/Home\";\n\nconst App = () => <Home />;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./assets/styles/main.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}