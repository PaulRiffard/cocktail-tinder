{"version":3,"sources":["domain/cocktails.actions.js","domain/cocktails.service.js","domain/cocktails.reducer.js","pages/Home.jsx","hooks/useLocalStorage.js","App.js","index.js"],"names":["types","fetchCocktailPending","type","fetchCocktail","dispatch","cocktails","fetch","then","res","json","error","drinks","cocktail","find","c","idDrink","payload","fetchCocktailSuccess","catch","fetchCocktailError","initialState","pending","reducer","state","action","Home","useReducer","CocktailReducer","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","console","log","storedValue","setStoredValue","value","setItem","stringify","useLocalStorage","setCocktails","likeCocktail","retry","swipeCocktail","direction","useEffect","onClick","onCardLeftScreen","dir","className","strDrink","src","strDrinkThumb","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8NAAO,IAAMA,EACa,yBADbA,EAEW,uBAFXA,EAGa,yBAGnB,SAASC,IACd,MAAO,CACLC,KAAMF,GCFH,SAASG,EAAcC,EAAUC,GACtCD,EAASH,KACTK,MAAM,0DACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACL,GAAIA,EAAIE,MACN,MAAMF,EAAIE,MAEZ,OAAOF,KAERD,MAAK,SAACC,GAAD,OAASA,EAAIG,QAAUH,EAAIG,OAAO,MACvCJ,MAAK,SAACK,GACDP,EAAUQ,MAAK,SAACC,GAAD,OAAOA,EAAEC,UAAYH,EAASG,WAC/CX,EAASH,KAETG,EDTD,SAA8BQ,GACnC,MAAO,CACLV,KAAMF,EACNgB,QAASJ,GCMIK,CAAqBL,OAGjCM,OAAM,SAACR,GAAD,OAAWN,EDLf,SAA4BM,GACjC,MAAO,CACLR,KAAMF,EACNU,SCE2BS,CAAmBT,O,WCtBrCU,EAAe,CAC1BC,SAAS,EACTX,OAAO,EACPE,SAAU,MAGG,SAASU,EAAQC,EAAOC,GACrC,OAAQA,EAAOtB,MACb,KAAKF,EACH,OAAO,2BACFuB,GADL,IAEEF,SAAS,EACTX,OAAO,IAEX,KAAKV,EACH,OAAO,2BACFuB,GADL,IAEEF,SAAS,EACTX,OAAO,IAEX,KAAKV,EACH,OAAO,2BACFuB,GADL,IAEEF,SAAS,EACTT,SAAUY,EAAOR,UAErB,QACE,OAAOO,GCpBb,IAkDeE,EAlDF,WAAO,IAYMb,EAZP,EACSc,qBAAWC,EAAiBP,GADrC,mBACVG,EADU,KACHnB,EADG,OCPZ,SAAyBwB,EAAKC,GAAe,IAAD,EACXC,oBAAS,WAC7C,IACE,IAAMC,EAAOC,OAAOC,aAAaC,QAAQN,GACzC,OAAOG,EAAOI,KAAKC,MAAML,GAAQF,EACjC,MAAOnB,GAEP,OADA2B,QAAQC,IAAI5B,GACLmB,MAPsC,mBAC1CU,EAD0C,KAC7BC,EAD6B,KAoBjD,MAAO,CAACD,EATS,SAACE,GAChB,IACED,EAAeC,GACfT,OAAOC,aAAaS,QAAQd,EAAKO,KAAKQ,UAAUF,IAChD,MAAO/B,GACP2B,QAAQC,IAAI5B,MDPkBkC,CAAgB,YAAa,IAF9C,mBAEVvC,EAFU,KAECwC,EAFD,KAIXC,EAAe,WACnBD,EAAa,GAAD,mBAAKxC,GAAL,CAAgBkB,EAAMX,aAG9BmC,EAAQ,WACZ5C,EAAcC,EAAUC,IAcpB2C,EAAgB,SAACC,GACH,SAAdA,EACFF,IAEAD,KAQJ,OAJAI,qBAAU,WACR/C,EAAcC,EAAUC,KACvB,CAACA,IAGF,iCACE,iDACA,wBAAQ8C,QAASL,EAAjB,oBACA,wBAAQK,QAASJ,EAAjB,2BACCxB,EAAMF,SAAW,8CACjBE,EAAMb,OAAS,0DACda,EAAMF,UACLE,EAAMb,OACPa,EAAMX,WAhCYA,EAiCHW,EAAMX,SA/BvB,cAAC,IAAD,CAAYwC,iBAAkB,SAACC,GAAD,OAASL,EAAcK,IAArD,SACE,sBAAKC,UAAU,WAAf,UACE,6BAAK1C,EAAS2C,WACd,qBAAKC,IAAK5C,EAAS6C,cAAeC,IAAK9C,EAAS2C,qBErB3CI,EAFH,kBAAM,cAAC,EAAD,K,MCElBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e8d8cbf4.chunk.js","sourcesContent":["export const types = {\n  FETCH_COCKTAIL_PENDING: \"FETCH_COCKTAIL_PENDING\",\n  FETCH_COCKTAIL_ERROR: \"FETCH_COCKTAIL_ERROR\",\n  FETCH_COCKTAIL_SUCCESS: \"FETCH_COCKTAIL_SUCCESS\",\n};\n\nexport function fetchCocktailPending() {\n  return {\n    type: types.FETCH_COCKTAIL_PENDING,\n  };\n}\n\nexport function fetchCocktailSuccess(cocktail) {\n  return {\n    type: types.FETCH_COCKTAIL_SUCCESS,\n    payload: cocktail,\n  };\n}\n\nexport function fetchCocktailError(error) {\n  return {\n    type: types.FETCH_COCKTAIL_ERROR,\n    error,\n  };\n}\n","import {\n  fetchCocktailPending,\n  fetchCocktailSuccess,\n  fetchCocktailError,\n} from \"./cocktails.actions\";\n\nexport function fetchCocktail(dispatch, cocktails) {\n  dispatch(fetchCocktailPending());\n  fetch(\"https://www.thecocktaildb.com/api/json/v1/1/random.php\")\n    .then((res) => res.json())\n    .then((res) => {\n      if (res.error) {\n        throw res.error;\n      }\n      return res;\n    })\n    .then((res) => res.drinks && res.drinks[0])\n    .then((cocktail) => {\n      if (cocktails.find((c) => c.idDrink === cocktail.idDrink)) {\n        dispatch(fetchCocktailPending());\n      } else {\n        dispatch(fetchCocktailSuccess(cocktail));\n      }\n    })\n    .catch((error) => dispatch(fetchCocktailError(error)));\n}\n","import { types } from \"./cocktails.actions\";\n\nexport const initialState = {\n  pending: true,\n  error: false,\n  cocktail: null,\n};\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case types.FETCH_COCKTAIL_PENDING:\n      return {\n        ...state,\n        pending: true,\n        error: false,\n      };\n    case types.FETCH_COCKTAIL_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: true,\n      };\n    case types.FETCH_COCKTAIL_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        cocktail: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import React, { useEffect, useReducer } from \"react\";\nimport TinderCard from \"react-tinder-card\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\nimport { fetchCocktail } from \"../domain/cocktails.service\";\nimport {\n  default as CocktailReducer,\n  initialState,\n} from \"../domain/cocktails.reducer\";\n\nconst Home = () => {\n  const [state, dispatch] = useReducer(CocktailReducer, initialState);\n  const [cocktails, setCocktails] = useLocalStorage(\"cocktails\", []);\n\n  const likeCocktail = () => {\n    setCocktails([...cocktails, state.cocktail]);\n  };\n\n  const retry = () => {\n    fetchCocktail(dispatch, cocktails);\n  };\n\n  const renderCocktail = (cocktail) => {\n    return (\n      <TinderCard onCardLeftScreen={(dir) => swipeCocktail(dir)}>\n        <div className=\"cocktail\">\n          <h2>{cocktail.strDrink}</h2>\n          <img src={cocktail.strDrinkThumb} alt={cocktail.strDrink} />\n        </div>\n      </TinderCard>\n    );\n  };\n\n  const swipeCocktail = (direction) => {\n    if (direction === \"left\") {\n      retry();\n    } else {\n      likeCocktail();\n    }\n  };\n\n  useEffect(() => {\n    fetchCocktail(dispatch, cocktails);\n  }, [cocktails]);\n\n  return (\n    <main>\n      <h1>Cocktail Tinder</h1>\n      <button onClick={likeCocktail}>J'aime</button>\n      <button onClick={retry}>Je n'aime pas</button>\n      {state.pending && <p>Chargement...</p>}\n      {state.error && <p>Une erreur est survenue.</p>}\n      {!state.pending &&\n        !state.error &&\n        state.cocktail &&\n        renderCocktail(state.cocktail)}\n    </main>\n  );\n};\n\nexport default Home;\n","import { useState } from \"react\";\n\nexport function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      setStoredValue(value);\n      window.localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","import React from \"react\";\nimport Home from \"./pages/Home\";\n\nconst App = () => <Home />;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./assets/styles/main.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}