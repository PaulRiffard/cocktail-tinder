(this["webpackJsonpcocktail-tinder"]=this["webpackJsonpcocktail-tinder"]||[]).push([[0],{10:function(t,e,c){},11:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c(1),r=c.n(i),s=c(4),a=c.n(s),o=c(2),l=function(){var t=Object(i.useState)(!0),e=Object(o.a)(t,2),c=e[0],r=e[1],s=Object(i.useState)(!1),a=Object(o.a)(s,2),l=a[0],u=a[1],j=Object(i.useState)(null),d=Object(o.a)(j,2),b=d[0],k=d[1],O=Object(i.useCallback)((function(){r(!0),u(!1),fetch("https://www.thecocktaildb.com/api/json/v1/1/random.php").then((function(t){return t.json()})).then((function(t){if((localStorage.getItem("cocktails")?JSON.parse(localStorage.getItem("cocktails")):[]).find((function(e){return e.id===t.drinks[0].idDrink})))O();else{var e={id:t.drinks[0].idDrink,title:t.drinks[0].strDrink,imgSrc:t.drinks[0].strDrinkThumb};k(e),function(t){if(localStorage.getItem("cocktails")){var e=JSON.parse(localStorage.getItem("cocktails"));e.push(t),localStorage.setItem("cocktails",JSON.stringify(e))}else localStorage.setItem("cocktails",JSON.stringify([t]))}(e),r(!1)}})).catch((function(){u(!0),r(!1)}))}),[]),h=function(t){if(!c){var e=JSON.parse(localStorage.getItem("cocktails"));e[e.length-1].like=t,localStorage.setItem("cocktails",JSON.stringify(e)),O()}};return Object(i.useEffect)((function(){O()}),[O]),Object(n.jsxs)("main",{children:[Object(n.jsx)("h1",{children:"Cocktail Tinder"}),Object(n.jsx)("button",{onClick:function(){return h(!0)},children:"J'aime"}),Object(n.jsx)("button",{onClick:function(){return h(!1)},children:"Je n'aime pas"}),c&&Object(n.jsx)("p",{children:"Chargement..."}),l&&Object(n.jsx)("p",{children:"Une erreur est survenue."}),!c&&!l&&Object(n.jsxs)("div",{className:"cocktail",children:[Object(n.jsx)("h2",{children:b.title}),Object(n.jsx)("img",{src:b.imgSrc,alt:b.title})]})]})},u=function(){return Object(n.jsx)(l,{})};c(10);a.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(u,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.fdacc4d2.chunk.js.map