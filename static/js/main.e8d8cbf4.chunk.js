(this["webpackJsonpcocktail-tinder"]=this["webpackJsonpcocktail-tinder"]||[]).push([[0],{19:function(t,n,e){},20:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e(1),i=e.n(c),o=e(7),a=e.n(o),u=e(9),s=e(4),j=e(8),l=e.n(j);var d="FETCH_COCKTAIL_PENDING",b="FETCH_COCKTAIL_ERROR",f="FETCH_COCKTAIL_SUCCESS";function O(){return{type:d}}function h(t,n){t(O()),fetch("https://www.thecocktaildb.com/api/json/v1/1/random.php").then((function(t){return t.json()})).then((function(t){if(t.error)throw t.error;return t})).then((function(t){return t.drinks&&t.drinks[0]})).then((function(e){n.find((function(t){return t.idDrink===e.idDrink}))?t(O()):t(function(t){return{type:f,payload:t}}(e))})).catch((function(n){return t(function(t){return{type:b,error:t}}(n))}))}var p=e(2),k={pending:!0,error:!1,cocktail:null};function C(t,n){switch(n.type){case d:return Object(p.a)(Object(p.a)({},t),{},{pending:!0,error:!1});case b:return Object(p.a)(Object(p.a)({},t),{},{pending:!1,error:!0});case f:return Object(p.a)(Object(p.a)({},t),{},{pending:!1,cocktail:n.payload});default:return t}}var g=function(){var t,n=Object(c.useReducer)(C,k),e=Object(s.a)(n,2),i=e[0],o=e[1],a=function(t,n){var e=Object(c.useState)((function(){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):n}catch(r){return console.log(r),n}})),r=Object(s.a)(e,2),i=r[0],o=r[1];return[i,function(n){try{o(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(e){console.log(e)}}]}("cocktails",[]),j=Object(s.a)(a,2),d=j[0],b=j[1],f=function(){b([].concat(Object(u.a)(d),[i.cocktail]))},O=function(){h(o,d)},p=function(t){"left"===t?O():f()};return Object(c.useEffect)((function(){h(o,d)}),[d]),Object(r.jsxs)("main",{children:[Object(r.jsx)("h1",{children:"Cocktail Tinder"}),Object(r.jsx)("button",{onClick:f,children:"J'aime"}),Object(r.jsx)("button",{onClick:O,children:"Je n'aime pas"}),i.pending&&Object(r.jsx)("p",{children:"Chargement..."}),i.error&&Object(r.jsx)("p",{children:"Une erreur est survenue."}),!i.pending&&!i.error&&i.cocktail&&(t=i.cocktail,Object(r.jsx)(l.a,{onCardLeftScreen:function(t){return p(t)},children:Object(r.jsxs)("div",{className:"cocktail",children:[Object(r.jsx)("h2",{children:t.strDrink}),Object(r.jsx)("img",{src:t.strDrinkThumb,alt:t.strDrink})]})}))]})},m=function(){return Object(r.jsx)(g,{})};e(19);a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e8d8cbf4.chunk.js.map